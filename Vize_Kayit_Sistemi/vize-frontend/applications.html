<!--Admin Panel Başvurular Sayfası-->

<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Başvurular</title>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.4.1/css/responsive.dataTables.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    img.preview { max-height: 50px; cursor: pointer; border-radius: 4px; }
    #imgModal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); text-align:center; }
    #imgModal img { max-width:90%; max-height:80%; margin-top:5%; border:3px solid #fff; border-radius:8px; }
    #imgModal span { position:absolute; top:20px; right:40px; font-size:40px; color:#fff; cursor:pointer; }
  </style>
</head>
<body>

<!--  Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="applications.html.html">Admin Panel</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link active" href="applications.html">📄 Başvurular</a></li>
        <li class="nav-item"><a class="nav-link" href="users.html">👥 Kullanıcı Yönetimi</a></li>
        <li class="nav-item"><a class="nav-link" href="logs.html">📝 Giriş Logları</a></li>
      </ul>
      <span class="navbar-text" id="userRole"></span>
      <button class="btn btn-danger ms-3" onclick="logout()">Çıkış</button>
    </div>
  </div>
</nav>

<div class="container mt-4">
  <h3>📄 Başvurular</h3>
  <table id="applicationsTable" class="table table-striped table-bordered display responsive nowrap" style="width:100%">
    <thead>
      <tr>
        <th>Ad</th><th>Soyad</th><th>Email</th><th>Telefon</th>
        <th>Vize Tipi</th><th>Giriş</th><th>Express</th><th>Sigorta</th>
        <th>Pasaport</th><th>Biyometrik</th><th>Otel Rez.</th><th>Uçak Bileti</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>

<!--  Modal -->
<div id="imgModal"><span id="closeModal">&times;</span><img id="modalImage" src=""></div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.4.1/js/dataTables.responsive.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="common.js"></script>
<script src="applications.js"></script>

<script>
  //  Modal aç/kapat
  document.addEventListener("click", function(e) {
    if (e.target.classList.contains("preview")) {
      document.getElementById("modalImage").src = e.target.src;
      document.getElementById("imgModal").style.display = "block";
    }
  });
  document.getElementById("closeModal").addEventListener("click", () => document.getElementById("imgModal").style.display = "none");
</script>

</body>
</html>
